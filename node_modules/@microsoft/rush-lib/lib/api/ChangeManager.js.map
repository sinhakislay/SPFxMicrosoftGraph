{"version":3,"file":"ChangeManager.js","sourceRoot":"","sources":["../../src/api/ChangeManager.ts"],"names":[],"mappings":";;AAEA,6CAA0C;AAG1C;;;GAGG;AACH,MAAa,aAAa;IACxB;;;;;;OAMG;IACI,MAAM,CAAC,sBAAsB,CAClC,iBAAoC,EACpC,WAAmB,EACnB,YAAoB;QACpB,MAAM,WAAW,GAAyC,iBAAiB,CAAC,gBAAgB,CAAC,WAAW,CAAC,CAAC;QAC1G,IAAI,WAAW,IAAI,WAAW,CAAC,aAAa,EAAE;YAE5C,MAAM,UAAU,GAAgB;gBAC9B,SAAS,EAAE,CAAC;wBACV,OAAO,EAAE,EAAE;wBACX,WAAW,EAAE,WAAW;wBACxB,IAAI,EAAE,MAAM;qBACb,CAAC;gBACF,aAAa,EAAE,WAAW;gBAC1B,OAAO,EAAE,YAAY;aACtB,CAAC;YAEF,OAAO,IAAI,uBAAU,CAAC,UAAU,EAAE,iBAAiB,CAAC,CAAC,SAAS,EAAE,CAAC;SAClE;QACD,OAAO,SAAS,CAAC;IACnB,CAAC;CACF;AA7BD,sCA6BC","sourcesContent":["import { RushConfiguration } from './RushConfiguration';\r\nimport { RushConfigurationProject } from './RushConfigurationProject';\r\nimport { ChangeFile } from './ChangeFile';\r\nimport { IChangeFile } from './ChangeManagement';\r\n\r\n/**\r\n * A class that helps with programatically interacting with Rush's change files.\r\n * @public\r\n */\r\nexport class ChangeManager {\r\n  /**\r\n   * Creates a change file that has a 'none' type.\r\n   * @param rushConfiguration - The rush configuration we are working with\r\n   * @param projectName - The name of the project for which to create a change file\r\n   * @param emailAddress - The email address which should be associated with this change\r\n   * @returns the path to the file that was created, or undefined if no file was written\r\n   */\r\n  public static createEmptyChangeFiles(\r\n    rushConfiguration: RushConfiguration,\r\n    projectName: string,\r\n    emailAddress: string): string | undefined {\r\n    const projectInfo: RushConfigurationProject | undefined = rushConfiguration.getProjectByName(projectName);\r\n    if (projectInfo && projectInfo.shouldPublish) {\r\n\r\n      const changefile: IChangeFile = { // tslint:disable-line:no-any\r\n        'changes': [{\r\n          comment: '',\r\n          packageName: projectName,\r\n          type: 'none'\r\n        }],\r\n        'packageName': projectName,\r\n        'email': emailAddress\r\n      };\r\n\r\n      return new ChangeFile(changefile, rushConfiguration).writeSync();\r\n    }\r\n    return undefined;\r\n  }\r\n}"]}