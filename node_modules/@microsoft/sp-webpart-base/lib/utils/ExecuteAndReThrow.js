/**
 * @Copyright (c) Microsoft Corporation.  All rights reserved.
 *
 * Execute the passed in delegate and re-throw the passed exception
 */
import { _TraceLogger } from '@microsoft/sp-diagnostics';
import { Validate } from '@microsoft/sp-core-library';
/**
 * Execute the passed in delegate and re-throw a custom error.
 * @param method - method to execute.
 * @param errorToThrow - custom error to throw.
 * @param logSource - log source.
 */
/* tslint:disable:export-name */
export function executeAndReThrow(method, errorToThrow, logSource) {
    /* tslint:enable:export-name */
    Validate.isNotNullOrUndefined(method, 'method');
    try {
        method();
    }
    catch (e) {
        // Defensive code as this method should never ever throw
        if (logSource) {
            _TraceLogger.logError(logSource, new Error('Error: ' + e));
        }
        errorToThrow.innerError = e;
        throw errorToThrow;
    }
}
//# sourceMappingURL=ExecuteAndReThrow.js.map