"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const url = require("url");
function joinUrlSegments(...segments) {
    if (!segments || segments.length === 0) {
        return undefined;
    }
    segments = segments.filter((value) => !!value);
    let result = segments[0];
    for (let i = 1; i < segments.length; i++) {
        result = url.resolve(`${trimTrailingSlashes(result)}/`, trimLeadingSlashes(segments[i]));
    }
    return trimTrailingSlashes(result);
}
exports.joinUrlSegments = joinUrlSegments;
function ensureTrailingSlash(str) {
    if (!str) {
        return undefined;
    }
    return str.replace(/\/*$/, '/');
}
exports.ensureTrailingSlash = ensureTrailingSlash;
function isUrl(path) {
    /* Matches the following:
     * http://contoso.org/foo.js
     * https://contoso
     * http:/\foo.bar
     * https:\/foo.bar
     * http:\\foo.bar
     * https:\\foo.bar
     * HTTp:\\foo.bar
     */
    const urlRegex = /([hH][tT]{2}[pP]s?):[/\\]{2}/;
    return !!path.match(urlRegex);
}
exports.isUrl = isUrl;
function trimTrailingSlashes(str) {
    if (!str) {
        return '';
    }
    return str.replace(/\/+$/, '');
}
exports.trimTrailingSlashes = trimTrailingSlashes;
function trimLeadingSlashes(str) {
    if (!str) {
        return '';
    }
    return str.replace(/^\/+/, '');
}
exports.trimLeadingSlashes = trimLeadingSlashes;
//# sourceMappingURL=url.js.map