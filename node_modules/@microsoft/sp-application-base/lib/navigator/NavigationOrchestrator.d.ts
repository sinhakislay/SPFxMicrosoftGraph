import { ServiceScope } from '@microsoft/sp-core-library';
import { _IPreloadedData } from '@microsoft/sp-loader';
import ApplicationManager from '../ApplicationManager';
import BaseApplication from '../BaseApplication';
import { IExtendedNavigationResult } from './INavigationResult';
import Navigator from './Navigator';
/**
 * It orchestrates all different steps to navigate to an SPFx application.
 *
 * This includes updating the Page Context, loading the application customizers, initializing the application, etc.
 */
export default class NavigationOrchestrator {
    private static classicPagesComponentId;
    private static workbenchComponentId;
    private static spHomeComponentId;
    private static _logSource;
    private static maxSupportedAppsInSession;
    private _serviceScope;
    private _applicationManager;
    private _applicationCustomizerLoader;
    private _pageContext;
    private _searchQueryManager;
    private _masterChrome;
    private _pageChrome;
    private _numAppsInitializedInSession;
    /**
     * Raises an event for a page navigation.
     */
    static raiseNavigatedEvent(): void;
    /**
     * Creates a NavigationOrchestrator.
     *
     * @param serviceScope - Root service scope
     * @param applicationManager - Depending on the bootstrapping sequence, application manager is
     *                             injected or created inside.
     */
    constructor(serviceScope: ServiceScope, applicationManager?: ApplicationManager, navigator?: Navigator);
    /**
     * Does all the operation to navigate to a new preloaded data.
     *
     * @remarks
     * It assumes the preloaded data has already been validated. Not null, with a spPageContextInfo and an application id.
     */
    navigate<TApplication extends BaseApplication>(preloadedData: _IPreloadedData): Promise<IExtendedNavigationResult<TApplication>>;
    _initializeExtensionsContext(preloadedData: _IPreloadedData): void;
    /**
     * Loads the application customizers for the current page.
     *
     * @remarks
     * This function is internal, and not private, because it needs to be used by the ApplicationManager when the
     * flight #182 (SppplatCrossAppNavigation) is off. Once the flight is graduated this function should be private.
     *
     * @param preloadedData - Preloaded data for the current page.
     *
     * @internal
     */
    _loadApplicationCustomizers(preloadedData: _IPreloadedData): Promise<void>;
    /**
     * Every time the URL gets updated (and there is a navigation) the search query needs to be updated
     * in the page context.
     * It's done in an async way to include loading SearchQueryModifier extensions when necessary.
     *
     * Setting up the search query is disabled for applications that don't have this scenario.
     * If that situation changes (like SPHome supporting search scenario) the check will need to be revisited.
     */
    private _initializeSearchQuery;
    private _appSupportsExtensions;
    private _updateTelemetry;
    /**
     * Returns true if a navigator from the page context to the new preloaded data is a cross-site navigation.
     * This operation needs to happen before updating the page context with the new preloaded data.
     */
    private _isCrossSite;
    private _fixPreloadedDataItem;
    /**
     * Determines whether inplace navigation is supported.
     *
     * @param preloadedData - Application preloaded data
     * @param pageContext - Application context
     * @param isSameAppId - Whether the navigation is happening within the same app
     *
     * @returns True if navigation is supported else false
     */
    private _isNavigationSupportedWithReason;
}
//# sourceMappingURL=NavigationOrchestrator.d.ts.map